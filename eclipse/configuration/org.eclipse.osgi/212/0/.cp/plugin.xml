<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.4"?>
<plugin>
   <extension
         point="org.eclipse.core.expressions.definitions">
      <definition
            id="com.sap.ndb.studio.lcm.definition.sapsystemselected">
         <with
               variable="selection">
            <iterate>
               <and>
                  <instanceof
                        value="com.sap.ndb.studio.datamodel.ISAPSystem">
                  </instanceof></and></iterate>
         </with>
      </definition>
   </extension>
      <extension
         point="org.eclipse.ui.contexts">
      <context
            description="%context.description"
            id="com.sap.ndb.studio.lcm.upd.ui.internal.editors.lcmeditor"
            name="%context.name"
            parentId="com.sap.ndb.studio.context">
      </context>
    </extension>
   
   <extension
         point="org.eclipse.ui.editors">
      <editor
            class="com.sap.ndb.studio.lcm.upd.ui.internal.editors.LCMEditor"
            default="false"
            icon="icons/obj16/LifecycleMgmtPersp.gif"
            id="com.sap.ndb.studio.lcm.upd.ui.internal.editors.lcmeditor"
            name="%editor.name">
      </editor>
   </extension>
   <extension
         point="org.eclipse.ui.commands">
      <category
            id="com.sap.ndb.studio.lcm.category"
            name="%category.name">
      </category>
      <command
            categoryId="com.sap.ndb.studio.lcm.category"
            id="com.sap.ndb.studio.lcm.command.lcm"
            name="%hlm.command.name">
      </command>
      <command
            categoryId="com.sap.ndb.studio.lcm.category"
            id="com.sap.ndb.studio.lcm.command.chkupd"
            name="%chkupd.command.name">
      </command>
   </extension>
   <extension
         point="org.eclipse.ui.menus">
      <menuContribution
            allPopups="false"
            locationURI="popup:com.sap.ndb.studio.navigator.view?after=com.sap.ndb.studio.navigator.configuration">
            <menu
               id="com.sap.ndb.studio.lifecycle"
               label="%command.label"
               icon="icons/obj16/LifecycleMgmtPersp.gif">
               <menu
               label="%hplm.command.label"
               >
		         <command
		               commandId="com.sap.ndb.studio.lcm.command.hdblcm"
		               label="%hdblcm.command.label"
		               icon="icons/obj16/DisplayMode.png"
		               style="push">
		            <visibleWhen
		                  checkEnabled="false">
		               <and>
		                  <count
		                     value="1">
		                  </count>
		                  <and>
		                     <reference
		                        definitionId="com.sap.ndb.studio.lcm.definition.sapsystemselected">
		                     </reference>
		                  </and>
		               </and>
		            </visibleWhen>
		         </command>
		         <command
		               commandId="com.sap.ndb.studio.lcm.command.chkupd"
		               label="%chkupd.command.label"
		               icon="icons/obj16/Refresh.png"
		               style="push">
		            <visibleWhen
		                  checkEnabled="false">
		               <and>
		                  <count
		                     value="1">
		                  </count>
		                  <and>
		                     <reference
		                        definitionId="com.sap.ndb.studio.lcm.definition.sapsystemselected">
		                     </reference>
		                  </and>
		               </and>
		            </visibleWhen>
		         </command>
	         </menu>
               <visibleWhen
                     checkEnabled="false">
                  <and>
                     <count
                           value="1">
                     </count>
                     <or>
                        <reference
                              definitionId="com.sap.ndb.studio.admin.definition.sapsystemselected">
                        </reference>
                     </or>
                  </and>
               </visibleWhen>
         </menu>
      </menuContribution>
   </extension>
   <extension
         point="org.eclipse.ui.handlers">
      <handler
            class="com.sap.ndb.studio.lcm.upd.ui.internal.commands.LCMEditorHandler"
            commandId="com.sap.ndb.studio.lcm.command.lcm">
         <activeWhen>
            <or>
               <reference
                     definitionId="com.sap.ndb.studio.lcm.definition.sapsystemselected">
               </reference>
            </or>
         </activeWhen>
         <enabledWhen>
         <or>
               <reference
                     definitionId="com.sap.ndb.studio.lcm.definition.sapsystemselected">
               </reference>
            </or>
         </enabledWhen>
      </handler>
      <handler
            class="com.sap.ndb.studio.lcm.upd.ui.internal.commands.LCMEditorHandler"
            commandId="com.sap.ndb.studio.lcm.command.hdblcm">
         <activeWhen>
            <or>
               <reference
                     definitionId="com.sap.ndb.studio.lcm.definition.sapsystemselected">
               </reference>
            </or>
         </activeWhen>
         <enabledWhen>
         <or>
               <reference
                     definitionId="com.sap.ndb.studio.lcm.definition.sapsystemselected">
               </reference>
            </or>
         </enabledWhen>
      </handler>
      <handler
            class="com.sap.ndb.studio.lcm.upd.ui.internal.commands.CheckUpdatesHandler"
            commandId="com.sap.ndb.studio.lcm.command.chkupd">
         <activeWhen>
            <or>
               <reference
                     definitionId="com.sap.ndb.studio.lcm.definition.sapsystemselected">
               </reference>
            </or>
         </activeWhen>
         <enabledWhen>
         <or>
               <reference
                     definitionId="com.sap.ndb.studio.lcm.definition.sapsystemselected">
               </reference>
            </or>
         </enabledWhen>
      </handler>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            category="com.sap.ndb.studio.preferences.mainpage"
            class="com.sap.ndb.studio.lcm.upd.ui.internal.preferences.smp.LcmMainPreferencePage"
            id="com.sap.ndb.studio.lcm.upd.ui.internal.preferences.LcmMainPreferencePage"
            name="%page.name">
      </page>         
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            category="com.sap.ndb.studio.lcm.upd.ui.internal.preferences.LcmMainPreferencePage"
            class="com.sap.ndb.studio.lcm.upd.ui.internal.preferences.smp.SmpPreferencePage"
            id="com.sap.ndb.studio.lcm.upd.ui.internal.preferences.SmpPreferencesPage"
            name="%page.name.0">
      </page>
   </extension>
   <extension
         point="org.eclipse.core.runtime.preferences">
      <initializer
            class="com.sap.ndb.studio.lcm.upd.ui.internal.preferences.smp.SmpInitializer">
      </initializer>
   </extension>
	<extension
         point="org.eclipse.ui.elementFactories">
      <factory
            class="com.sap.ndb.studio.lcm.upd.ui.internal.editors.LCMEditorElementFactory"
            id="com.sap.ndb.studio.lcm.upd.ui.internal.editors.LCMEditorElementFactory">
      </factory>      
   </extension>
 <extension
       point="org.eclipse.ui.intro.configExtension">
    <configExtension
          configId="org.eclipse.ui.intro.universalConfig"
          content="$nl$/intro/overviewExtensionContent1.xml">
    </configExtension>
 </extension>
</plugin>
