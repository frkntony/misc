<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<link rel="stylesheet" type="text/css" href="../css/documentation.css"/>
<title>Using Java EE 6 Web Profile</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
</head>
<body class="" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb">
<div id="wrapper"><div id="container">
<h1 class="title topictitle1">Using Java EE 6 Web Profile</h1>
<div class="body conbody"><div class="section" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__section_AE8C44A28BC64426BD4BE12B201B6B0E"> 
		<p class="p"><span class="ph pname">SAP Cloud Platform</span> is certified to support Java EE 6 Web Profile. If you
				want to use it in your applications, you have to develop them using <span class="ph pname">SAP Cloud Platform</span> SDK for Java EE 6 Web Profile. </p>
 
	 </div>
<div class="section" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__section_AC0A6CC307EA47B5B73077971406AFB4"><div class="section_title">Prerequisites</div><div type="Prerequisites"> 
		
			<ul class="ul" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__ul_q1g_lch_gk">
				<li class="li">You have downloaded <span class="ph pname">SAP Cloud Platform</span> Tools. Make sure you download the SDK for Java
					EE 6 Web Profile.  For more information, see <a class="xref" href="e815ca4cbb5710148376c549fd74c0db.html">Setting Up the Tools and SDK</a>. </li>

				<li class="li"> If you have a previously installed version of <span class="ph pname">SAP Cloud Platform</span> Tools, make sure you
					update them to the latest version. For more information, see <a class="xref" href="e9089455bb571014ab1eabf59b2350d7.html">Updating the Tools and SDK</a>. </li>

				<li class="li">
					<p class="p">The SDK brings all required libraries. In case you get an error with the
						import of a library, for example, <samp class="ph codeph">javax.ejb.localbean</samp>, make
						sure you have set the <span class="ph pname">SAP Cloud Platform</span> Tools and the Web Project
						correctly.</p>

				</li>

			</ul>
 
	 </div></div>
<div class="section" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__section_5FC0DB0B29BB4E37BD4848FE6CA2F1F6"><div class="section_title">Procedure</div><div type="Procedure"> 
		 
		<p class="p">First, create a basic HelloWorld application:</p>

			<ul class="ul" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__ul_yb4_c1j_qn">
				<li class="li"><a class="xref" href="e5b39a5bbb571014a0cc9ab03ec94ebb.html#loioe5b39a5bbb571014a0cc9ab03ec94ebb__create_web_project">Create a Dynamic Web
						Project</a></li>

				<li class="li"><a class="xref" href="e5b39a5bbb571014a0cc9ab03ec94ebb.html#loioe5b39a5bbb571014a0cc9ab03ec94ebb__create_servlet">Create a
					servlet</a></li>

			</ul>
 
		<p class="p">Then, equip the simple application with additional Java EE functionalities: </p>

			<ul class="ul" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__ul_spc_lcj_qn">
				<li class="li"><a class="xref" href="e5b39a5bbb571014a0cc9ab03ec94ebb.html#loioe5b39a5bbb571014a0cc9ab03ec94ebb__create_jsp">Create a JSP</a></li>

				<li class="li"><a class="xref" href="e5b39a5bbb571014a0cc9ab03ec94ebb.html#loioe5b39a5bbb571014a0cc9ab03ec94ebb__create_ejb">Create an EJB business
						method</a></li>

				<li class="li"><a class="xref" href="e5b39a5bbb571014a0cc9ab03ec94ebb.html#loioe5b39a5bbb571014a0cc9ab03ec94ebb__call_ejb">Call the EJB from the
						Servlet</a></li>

				<li class="li"><a class="xref" href="e5b39a5bbb571014a0cc9ab03ec94ebb.html#loioe5b39a5bbb571014a0cc9ab03ec94ebb__call_ejb_jsp">Call the EJB from the
						JSP</a></li>

			</ul>
 
	 </div></div>
<div class="section" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__create_web_project"><div class="section_title">Create a Dynamic Web Project</div><div type="Create a Dynamic Web Project">
			
			<ol class="ol">
				<li class="li">Open your Eclipse IDE for Java EE Developers.</li>

				<li class="li">From the Eclipse IDE main menu, choose <span class="ph menucascade"><img src="../images/navstart.gif" alt="Start of the navigation path" title="Start of the navigation path"/> <span class="ph uicontrol">File</span> <img src="../images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">New</span> <img src="../images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">Dynamic Web Project</span> <img src="../images/navend.gif" alt="End of the navigation path" title="End of the navigation path"/></span>. </li>

				<li class="li"> In the <span class="ph uicontrol">Project name</span> field, enter
						<span class="ph uicontrol">HelloWorld</span>. </li>

				<li class="li">From the <span class="ph uicontrol">Target Runtime</span> section, select <kbd class="ph userinput">Java EE
						6 Web Profile</kbd>. </li>

				<li class="li"> For <span class="ph uicontrol">Web module version</span>, choose <span class="ph uicontrol">3.0</span>. <p class="p"><img class="image" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__image_vqw_vcb_gp" src="loio7611a65a711e1014839a8273b0e91070_LowRes.png"/>
					</p>

				</li>

				<li class="li">In the <span class="ph uicontrol">Configuration</span> area, leave the default
					configuration. When you are working with the SDK for Java EE 6 Web Profile, your
					application is provisioned on Java 7 by default. </li>

				<li class="li">Choose <span class="ph uicontrol">Finish</span>. </li>

			</ol>

			<p class="p">For more information, see <a class="xref" href="e5a8b1d3bb571014a0f89bb4706d4e0b.html">Creating a HelloWorld Application</a> . </p>

		</div></div>
<div class="section" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__create_servlet"><div class="section_title">Create a servlet</div><div type="Create a servlet">
			
			<ol class="ol">
				<li class="li">On the <span class="ph uicontrol">HelloWorld</span> project node, open the context menu and
					choose <span class="ph menucascade"><img src="../images/navstart.gif" alt="Start of the navigation path" title="Start of the navigation path"/> <span class="ph uicontrol">New</span> <img src="../images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">Servlet</span> <img src="../images/navend.gif" alt="End of the navigation path" title="End of the navigation path"/></span>. Window <span class="ph uicontrol">Create Servlet</span> opens. </li>

				<li class="li"> Enter <span class="ph uicontrol">hello</span> as the Java package and
						<span class="ph uicontrol">HelloWorldServlet</span> as the class name. Choose
						<span class="ph uicontrol">Next</span>. </li>

				<li class="li">In the <span class="ph uicontrol">URL mappings</span> field, select
						<span class="ph uicontrol">/HelloWorldServlet </span>and choose
						<span class="ph uicontrol">Edit</span>. </li>

				<li class="li">In the <span class="ph uicontrol">Pattern</span> field, replace the current value with just
						"<span class="ph uicontrol">/</span>" and choose <span class="ph uicontrol">OK</span>. In this
					way, the servlet will be mapped as a welcome page for the application. <p class="p"><img class="image" height="120" src="loio7612b41e711e1014839a8273b0e91070_LowRes.png" width="316"/>
					</p>

				</li>

				<li class="li"> Choose <span class="ph uicontrol">Finish</span> to generate the servlet. The Java Editor
					with the HelloWorldServlet opens. </li>

				<li class="li"> Change the <kbd class="ph userinput">doGet(…)</kbd> method so that it contains:
					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">response.getWriter().println("Hello World!");
</pre></div>

				</li>

				<li class="li"> Save your changes. </li>

			</ol>

			<p class="p">For more information, see <a class="xref" href="e5a8b1d3bb571014a0f89bb4706d4e0b.html">Creating a HelloWorld Application</a>. </p>

		</div></div>
<div class="section" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__create_jsp"><div class="section_title">Create a JSP</div><div type="Create a JSP">
			
			<ol class="ol">
				<li class="li">On the HelloWorld project node, open the context menu and choose <span class="ph menucascade"><img src="../images/navstart.gif" alt="Start of the navigation path" title="Start of the navigation path"/> <span class="ph uicontrol">New</span> <img src="../images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">JSP file</span> <img src="../images/navend.gif" alt="End of the navigation path" title="End of the navigation path"/></span>. Window <span class="ph uicontrol">New JSP file</span> opens. </li>

				<li class="li"> Enter the name of your JSP file and choose <span class="ph uicontrol">Finish</span>. </li>

			</ol>

		</div></div>
<div class="section" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__create_ejb"><div class="section_title">Create an EJB business method</div><div type="Create an EJB business method">
			
			<p class="p"> EJB components represent the business logic in a
				Java EE application.</p>

			<ol class="ol">
				<li class="li">On the HelloWorld project node, choose <span class="ph menucascade"><img src="../images/navstart.gif" alt="Start of the navigation path" title="Start of the navigation path"/> <span class="ph uicontrol">File</span> <img src="../images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">New</span> <img src="../images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">Other</span> <img src="../images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">EJB</span> <img src="../images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">Session Bean</span> <img src="../images/navend.gif" alt="End of the navigation path" title="End of the navigation path"/></span>. Choose <span class="ph uicontrol">Next</span>. </li>

				<li class="li"> In the <span class="ph uicontrol">Create EJB session bean</span> wizard, еnter
						<span class="ph uicontrol">test</span> as the Java package and
						<span class="ph uicontrol">HelloWorldBean</span> as the name of your new class. Choose
						<span class="ph uicontrol">Finish</span>. </li>

				<li class="li"> Implement a simple public method <span class="ph uicontrol">sayHello</span> that returns a
					greeting string. Save the project. </li>

			</ol>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">package test;

import javax.ejb.LocalBean;
import javax.ejb.Stateless;

/**
 * Session Bean implementation class HelloWorldBean
 */
@Stateless
@LocalBean
public class HelloWorldBean {

    /**
     * Default constructor. 
     */
    public HelloWorldBean() {
        // TODO Auto-generated constructor stub
    }
    
    public String sayHello() {
    	return "Hello from session bean";
    }

}
</pre></div>

		</div></div>
<div class="section" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__call_ejb"><div class="section_title">Call the EJB from the Servlet</div><div type="Call the EJB from the Servlet">
			
			<ol class="ol">
				<li class="li">Create a reference from the servlet to the session bean:
					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">
@EJB
private HelloWorldBean helloWorldBean;</pre></div>

				</li>

				<li class="li">Change the <kbd class="ph userinput">doGet</kbd> method to call the business method:
					<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
response.getWriter().println(helloWorldBean.sayHello());

</pre></div>

				</li>

			</ol>

		</div></div>
<div class="section" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__call_ejb_jsp"><div class="section_title">Call the EJB from the JSP</div><div type="Call the EJB from the JSP">
			
			<ol class="ol">
				<li class="li">Create imports to the bean class and EJB API. </li>

				<li class="li"> Look up the HelloWorldBean using JNDI. </li>

				<li class="li">Call the <kbd class="ph userinput">HelloWorldBean</kbd> business method using a JNDI
					lookup. </li>

			</ol>

			<div class="p">Your modified JSP should look like this:
				<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">
&lt;%@page import="javax.naming.InitialContext"%&gt;
&lt;%@ page language="java" contentType="text/html; charset=ISO-8859-1"
    pageEncoding="ISO-8859-1"%&gt;
&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;
&lt;%@ page import = "test.HelloWorldBean" %&gt;
&lt;%@ page import = "javax.ejb.EJB" %&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"&gt;
&lt;title&gt;Insert title here&lt;/title&gt;
&lt;/head&gt;

&lt;body&gt;

&lt;/body&gt;
&lt;/html&gt;
&lt;%

   try {
      InitialContext ic = new InitialContext();
      HelloWorldBean h= (HelloWorldBean)ic.lookup("java:comp/env/hello.HelloWorldServlet/helloWorldBean"); 
      out.println(h.sayHello());
			}
   catch(Exception e) {
      out.println("error at  client");
   }

%&gt;
</pre></div>

			</div>

		</div></div>
<div class="section" id="loioe5b39a5bbb571014a0cc9ab03ec94ebb__section_8B486AD7924242C292583EE5105BFFB3">
			<p class="p"/>

			<p class="p">You can test the application on the local runtime and then deploy it on <span class="ph pname">SAP Cloud Platform</span>. </p>

			<p class="p">For more information, see <a class="xref" href="e5dfbc6cbb5710149279f67fb43d4e5d.html">Deploying an Application on SAP HANA Cloud</a>. </p>
 
		<p class="p"> You can now use JPA together with EJB to persist data in your application </p>
 
		<p class="p">For more information, see 
		  <a class="xref" href="7612e180711e1014839a8273b0e91070.html" title="This step-by-step tutorial shows how you can use JPA together with EJB to apply container-managed persistence in a simple Java EE web application that manages a list of persons.">Adding Container-Managed Persistence with JPA (Java EE 6 Web Profile SDK)</a>
		  
		</p>
 
	 </div>
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html">Important Disclaimers and Legal Information</a>
</div>

</body>
</html>