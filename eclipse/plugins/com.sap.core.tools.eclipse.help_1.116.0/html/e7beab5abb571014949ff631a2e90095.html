<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content="A JPA model contains a persistence configuration file, persistence.xml, which describes the defined persistence units. A persistence unit in turn defines all entity classes managed by the entity managers in your application and includes the metadata for mapping the entity classes to the database entities."/>
<meta name="description" content="A JPA model contains a persistence configuration file, persistence.xml, which describes the defined persistence units. A persistence unit in turn defines all entity classes managed by the entity managers in your application and includes the metadata for mapping the entity classes to the database entities."/>

<link rel="stylesheet" type="text/css" href="../css/documentation.css"/>
<title>Persistence Units</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
</head>
<body class="" id="loioe7beab5abb571014949ff631a2e90095">
<div id="wrapper"><div id="container">
<h1 class="title topictitle1">Persistence Units</h1>

	 
	<div class="body conbody"><p class="shortdesc">A JPA model contains a persistence configuration file, <span class="ph filepath">persistence.xml</span>,
		which describes the defined persistence units. A persistence unit in turn defines
		all entity classes managed by the entity managers in your application and includes
		the metadata for mapping the entity classes to the database entities.</p>

	 <div class="section"><div class="section_title">JPA Provider</div><div type="JPA Provider">
			
			<p class="p">The <span class="ph filepath">persistence.xml</span> file is located in the <span class="ph filepath">META-INF</span>
				folder within the persistence unit <span class="ph filepath">src</span> folder. The JPA
				persistence provider used by the persistence service is
				org.eclipse.persistence.jpa.PersistenceProvider.</p>

		</div></div>
<div class="example"><h2 class="exampletitle">Example</h2>
			<p class="p">In the <span class="ph filepath">persistence.xml</span> file in the tutorial <cite class="cite">Adding
					Container-Managed Persistence with JPA (Java EE 6 Web Profile SDK)</cite>, the
				persistence unit is named <span class="keyword parmname">persistence-with-ejb</span>, the transaction
				type is JTA (default setting), and the DDL generation type has been set to
					<span class="keyword parmname">Create Tables</span>, as shown below: </p>

			<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;persistence version="2.0" xmlns="http://java.sun.com/xml/ns/persistence" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd"&gt;
    &lt;persistence-unit name="persistence-with-ejb"&gt;
        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;
        &lt;class&gt;com.sap.cloud.sample.persistence.Person&lt;/class&gt;
        &lt;properties&gt;
            &lt;property name="eclipselink.ddl-generation" value="create-tables" /&gt;
        &lt;/properties&gt;
    &lt;/persistence-unit&gt;
&lt;/persistence&gt;
</pre></div>

		</div>

		<div class="section" id="loioe7beab5abb571014949ff631a2e90095__section_A73E8EB46D9A41A58F811DCC667738DA"><div class="section_title">DDL Generation Type</div><div type="DDL Generation Type">
			
			<div class="p">The persistence service uses the EclipseLink capabilities for generating database
				tables. The following values are valid for generating the DDL for the entity
				specified in the <span class="ph filepath">persistence.xml</span> file: <ul class="ul" id="loioe7beab5abb571014949ff631a2e90095__ul_izq_lby_vk">
					<li class="li"><kbd class="ph userinput">none</kbd>: EclipseLink does not generate a DDL (no schema
						is generated). </li>

					<li class="li"><kbd class="ph userinput">create-tables</kbd>: EclipseLink attempts to execute a
						CREATE TABLE SQL. It creates a DDL for non-existent tables and leaves
						existing tables unchanged (they are not dropped or replaced). </li>

					<li class="li"><kbd class="ph userinput">drop-and-create-tables</kbd>: EclipseLink attempts to DROP
						all tables and then CREATE all tables. <div class="note note" id="loioe7beab5abb571014949ff631a2e90095__note_N100B7_N100B1_N100A0_N10099_N10091_N10013_N10001"><span class="notetitle">Note</span> This option
							will often be used during the development phase, when there are frequent
							changes to the schema or data needs to be deleted. Don't forget to
							change it to <kbd class="ph userinput">create-tables</kbd> before the application
							goes live, since all data is lost when a table is dropped. </div>

					</li>

				</ul>

			</div>

		</div></div>
<div class="section" id="loioe7beab5abb571014949ff631a2e90095__section_59C2A659B73A4AC892617F9668F52ED1"><div class="section_title">Transaction Type</div><div type="Transaction Type"> 
		
			<p class="p">JTA transactions are used for container-managed persistence, and resource-local transactions
				for application-managed persistence. Note that the Java Web SDK supports
				resource-local transactions only.</p>
 
	 </div></div>
</div>

	<div class="related-links"> 
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="7612e180711e1014839a8273b0e91070.html" title="This step-by-step tutorial shows how you can use JPA together with EJB to apply container-managed persistence in a simple Java EE web application that manages a list of persons.">Adding Container-Managed Persistence with JPA (Java EE 6 Web Profile SDK)</a></div>
</div>
</div></div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html">Important Disclaimers and Legal Information</a>
</div>

</body>
</html>