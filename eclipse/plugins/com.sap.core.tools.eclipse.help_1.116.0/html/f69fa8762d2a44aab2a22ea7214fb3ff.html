<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content="SAP Cloud Platform supports the client credentials grant flow from the OAuth 2.0 specfication. This flow enables grant of an OAuth access token based on the client credentials only, without user interaction. You can use this flow for enabling system-to-system communication (with a service user), for example, in device communication in an Internet of things scenario."/>
<meta name="description" content="SAP Cloud Platform supports the client credentials grant flow from the OAuth 2.0 specfication. This flow enables grant of an OAuth access token based on the client credentials only, without user interaction. You can use this flow for enabling system-to-system communication (with a service user), for example, in device communication in an Internet of things scenario."/>

<link rel="stylesheet" type="text/css" href="../css/documentation.css"/>
<title>Enabling OAuth 2.0 Client Credentials Grant</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
</head>
<body class="" id="loiof69fa8762d2a44aab2a22ea7214fb3ff">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1">Enabling OAuth 2.0 Client Credentials Grant</h1>

	
	<div class="body taskbody"><p class="shortdesc"><span class="ph pname">SAP Cloud Platform</span> supports the client credentials grant flow from the OAuth 2.0
		specfication. This flow enables grant of an OAuth access token based on the client
		credentials only, without user interaction. You can use this flow for enabling
		system-to-system communication (with a service user), for example, in device communication
		in an Internet of things scenario.</p>

		<div class="section context"><div class="tasklabel"><h2 class="sectiontitle tasklabel">Context</h2></div>
			<p class="p">The current procedure is for application developers that need their <span class="ph pname">SAP Cloud Platform</span> applications to be enabled for OAuth 2.0 client credentials grant. </p>

		</div>
		<div class="ol steps tasklabel"><h2 class="sectiontitle tasklabel">Procedure</h2></div><ol class="ol steps"><li class="li step stepexpand">
				<span class="ph cmd">Register a new OAuth client of type <span class="ph uicontrol">Confidential</span>. See <a class="xref" href="7e658b3e4cea4a79b035d0f1d2798c1f.html#loio61d8095aa39547c7b30d9aeda771497f" title="To authorize a device to access an OAuth-protected application, you need to register it as a client.">Registering an OAuth Client</a>.</span>
			</li>
<li class="li step stepexpand">
				<span class="ph cmd">Using that client, you can get an access token using a REST call to the endpoints shown in <span class="ph menucascade"><img src="../images/navstart.gif" alt="Start of the navigation path" title="Start of the navigation path"/> <span class="ph uicontrol">cockpit</span> <img src="../images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">Security</span> <img src="../images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">OAuth</span> <img src="../images/navstep.gif" alt="Next navigation step" title="Next navigation step"/> <span class="ph uicontrol">Branding</span> <img src="../images/navend.gif" alt="End of the navigation path" title="End of the navigation path"/></span>. </span>
				<div class="itemgroup info">
					<p class="p">Create a REST call containing <samp class="ph codeph">grant_type: client credentials</samp>, client ID and
						password. </p>

					<p class="p">See the <a class="extlink" href="http://help.sap.com/disclaimer?site=https://tools.ietf.org/html/rfc6749#section-4.4" target="_blank" alt="https://tools.ietf.org/html/rfc6749#section-4.4" title="https://tools.ietf.org/html/rfc6749#section-4.4">OAuth 2.0 client credentials grant
							specification<img src="../images/3rd_link.png" class="link-external" alt="Information published on non-SAP site" title="Information published on non-SAP site" border="0"/></a>.</p>

				</div>
				<div class="itemgroup stepresult">
					<p class="p">The HTTP response contains the access token.</p>

				</div>
			</li>
<li class="li step stepexpand">
				<span class="ph cmd">In the <span class="ph pname">SAP Cloud Platform</span> application:</span>
				<ul class="ul choices" id="loiof69fa8762d2a44aab2a22ea7214fb3ff__choices_prl_ndd_4s">
					<li class="li choice">Protect your application declaratively with the OAuth login method in
						the <samp class="ph codeph">web.xml</samp>. See <a class="xref" href="b7b589334d444293a2a91e0ef4234136.html" title="SAP Cloud Platform supports the OAuth 2.0 protocol as a reliable way to protect application resources. The current document describes the specifics of implementing an OAuth-protected application (resource server) for SAP Cloud Platform.">Protecting Applications with OAuth 2.0</a>.</li>

					<li class="li choice">Use the <samp class="ph codeph">getRemoteUser()</samp> method of the HTTP request
							(<samp class="ph codeph">javax.servlet.http.HttpServletRequest</samp>) to get the
							<span class="ph emphasis emphasis">client ID</span>.  <p class="p">The <samp class="ph codeph">getRemoteUser()</samp>
							method returns the client ID prefixed by <samp class="ph codeph">oauth_client_</samp>
							as follows:</p>
<p class="p"><samp class="ph codeph">oauth_client_&lt;client ID&gt;</samp></p>
<div class="p">
							<div class="note tip"><span class="tiptitle">Tip</span> 
								<p class="p">You can use the client ID returned as remote user to assign Java
									EE roles to clients, and use them for role-based authorizations.
									See:</p>

								<div class="p">
									<ul class="ul" id="loiof69fa8762d2a44aab2a22ea7214fb3ff__ul_f4p_cp2_4s">
										<li class="li">
											<p class="p"><a class="xref" href="db8175b9d976101484e6fa303b108acd.html" title="In SAP Cloud Platform, you can use Java EE roles to define access to the application resources.">Managing Roles</a></p>

										</li>

										<li class="li"><a class="xref" href="85a19f0ef154441c8b077cc8e0901109.html">Enforcing Authorizations</a></li>

									</ul>

								</div>

							</div>

						</div>
</li>

				</ul>

			</li>
</ol>

	</div>

</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html">Important Disclaimers and Legal Information</a>
</div>

</body>
</html>