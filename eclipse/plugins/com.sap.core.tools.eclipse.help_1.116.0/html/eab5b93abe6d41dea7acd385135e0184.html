<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content=""/>
<meta name="description" content=""/>

<link rel="stylesheet" type="text/css" href="../css/documentation.css"/>
<title>Feedback Service Client API</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
</head>
<body class="" id="loioeab5b93abe6d41dea7acd385135e0184">
<div id="wrapper"><div id="container">

	<h1 class="title topictitle1"><span class="ph pname">Feedback Service</span> Client API</h1>

	<div class="body conbody"><p class="shortdesc"/>

		<p class="p">The <span class="ph pname">SAP Cloud Platform Feedback Service</span> is exposed through a client API that you can use
			to enable users to send feedback for your application. You do this by adding code to
			your application that uses the <span class="ph pname">Feedback Service</span> client API.</p>

		<div class="p">In this section you will learn:<ul class="ul" id="loioeab5b93abe6d41dea7acd385135e0184__ul_ol3_zly_1m">
				<li class="li">How to call the <span class="ph pname">Feedback Service</span></li>

				<li class="li">What are the service parameters</li>

				<li class="li">What is the service response</li>

				<li class="li">What error responses could be returned</li>

			</ul>
</div>

		<div class="p">You can also look at two tutorials about:<ul class="ul" id="loioeab5b93abe6d41dea7acd385135e0184__ul_gv5_kjc_cm">
				<li class="li">How to consume the service via a browser</li>

				<li class="li">How to consume the service via a web application backend</li>

			</ul>
</div>

		<p class="p">For more information about the tutorials, see the Related Links section.</p>

		<div class="section"><div class="section_title">Request</div><div type="Request">
			
			<p class="p">Your application can consume the <span class="ph pname">Feedback Service</span> through the service's REST API. The
				messages exchanged between the client (your application) and the <span class="ph pname">Feedback Service</span>
				are JSON-encoded. You call the <span class="ph pname">Feedback Service</span> by issuing an HTTP POST request to
				the unique application feedback URL that contains your application ID:</p>

			<p class="p">
				<samp class="ph codeph">https://feedback-<span class="ph uicontrol">account_name</span>.hanatrial.ondemand.com/api/v2/apps/<span class="ph uicontrol">application_id</span>/posts</samp>
			</p>

			<p class="p">The application  feedback URL is automatically generated after you have registered your
				application in the <span class="ph uicontrol">Administration</span> UI of the <span class="ph pname">Feedback Service</span>.
				For more information about how to obtain the application feedback URL, see
					<cite class="cite"><span class="ph pname">Feedback Service</span> Administration</cite> in the <cite class="cite">Related Links</cite>
				section.</p>

			<p class="p">You need to set the Content-Type HTTP header of the request to
					<kbd class="ph userinput">application/json</kbd>. In the request body, you supply a
				feedback resource in JSON format. The resource may have the following
				attributes:</p>

			<div class="p">
				
<div class="table-wrapper tablenoborder"><table summary="" id="loioeab5b93abe6d41dea7acd385135e0184__table_ans_1py_1m" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 1: <span class="ph pname">Feedback Service</span> Client API Attributes</span></caption>
<colgroup><col width="25%"/><col width="25%"/><col width="25%"/><col width="25%"/></colgroup>

						
						
						
						
						<thead class="thead" align="left">
							<tr class="row">
								<th class="entry" valign="top" width="25%" id="d12340371e134">Attribute</th>

								<th class="entry" valign="top" width="25%" id="d12340371e137">Type </th>

								<th class="entry" valign="top" width="25%" id="d12340371e140">Dimension</th>

								<th class="entry" valign="top" width="25%" id="d12340371e143">Description</th>

							</tr>

						</thead>

						<tbody class="tbody">
							<tr class="row">
								<td class="entry" valign="top" width="25%" headers="d12340371e134 ">texts</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e137 ">collection</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e140 "> </td>

								<td class="entry" valign="top" width="25%" headers="d12340371e143 ">Feedback text values</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="25%" headers="d12340371e134 ">texts.tX</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e137 ">string</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e140 ">2000</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e143 ">The value for feedback question X. X is in the range [1 -
									5]</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="25%" headers="d12340371e134 ">ratings</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e137 ">collection</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e140 "> </td>

								<td class="entry" valign="top" width="25%" headers="d12340371e143 ">Rating values</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="25%" headers="d12340371e134 ">ratings.rX</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e137 ">object</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e140 "> </td>

								<td class="entry" valign="top" width="25%" headers="d12340371e143 ">The rating for rating question X. X is in the range [1 -
									5]</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="25%" headers="d12340371e134 ">ratings.rX.value</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e137 ">integer</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e140 ">[1-5]</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e143 ">The value for rating question X</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="25%" headers="d12340371e134 ">context</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e137 ">object</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e140 "> </td>

								<td class="entry" valign="top" width="25%" headers="d12340371e143 ">Feedback context</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="25%" headers="d12340371e134 ">context.page</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e137 ">string</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e140 ">2038</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e143 ">The page for which feedback is sent</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="25%" headers="d12340371e134 ">context.view</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e137 ">string</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e140 ">64</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e143 ">The page view for which feedback is sent</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="25%" headers="d12340371e134 ">context.lang</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e137 ">string</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e140 ">2</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e143 ">The ISO code of the language used for the feedback text. The
									code is a lower-case, two-letter code as defined by ISO-639-1.
									The default value is <pre class="pre screen">en</pre>
 - English.</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="25%" headers="d12340371e134 ">context.attrX</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e137 ">string</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e140 ">64</td>

								<td class="entry" valign="top" width="25%" headers="d12340371e143 ">Additional context specification. X is the range
									[1-5].</td>

							</tr>

						</tbody>

					</table>
</div>

			</div>

			<div class="p">To collect feedback data, you need to provide values for at least one rating or one free text
				attribute. You can additionally pass values for:<ul class="ul" id="loioeab5b93abe6d41dea7acd385135e0184__ul_d2j_d2g_wl">
					<li class="li">Up to 5 rating attributes</li>

					<li class="li">Up to 5 free text attributes</li>

					<li class="li">Up to 8 context attributes</li>

				</ul>
</div>

			<div class="p"><div class="note caution"><span class="cautiontitle">Caution</span> </div>
 According to the data privacy terms defined in the <cite class="cite">Terms of Use
					for SAP HANA Cloud Developer Edition</cite>, no personal data must be collected,
				processed, stored or transmitted using your developer account on the trial
				landscape. Therefore, you must not use the context attributes of the <span class="ph pname">Feedback Service</span> client API to collect personal data such as user ID, user name, and so
				on.</div>

		</div></div>

		<div class="section"><div class="section_title">Response</div><div type="Response">
			
			<p class="p">Upon successful request, the <span class="ph pname">Feedback Service</span> returns an HTTP response with code
					<span class="ph uicontrol">200-OK</span> and an empty body.</p>

		</div></div>

		<div class="section"><div class="section_title">Error Handling</div><div type="Error Handling">
			
			<p class="p">In case of errors, the <span class="ph pname">Feedback Service</span> returns an HTTP response with an appropriate
				error code. Whenever there is any additional information describing the error, it is
				contained in the response body as an <span class="ph uicontrol">Error</span> object. For
				example:</p>

			<div class="p">
				<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-json">{
  error: {
    code: 30,
    message: "quota exceeded"
  }
}
</pre></div>

			</div>

			<p class="p">The value of <span class="ph uicontrol">error.code</span> identifies the cause, and the value of
					<span class="ph uicontrol">error.message</span> describes the cause. The string in
					<span class="ph uicontrol">error.message</span> is not intended to be presented to your
				application users and therefore  not translated. The error message's purpose is to
				assist the development of your application.</p>

			<p class="p">The table below lists the most common errors that the service can return. In addition to this
				list, a call to the <span class="ph pname">Feedback Service</span> may also result in a response with another HTTP
				response code. In this case the HTTP response code itself should be enough to
				describe the issue.</p>

			<div class="p">
				
<div class="table-wrapper tablenoborder"><table summary="" id="loioeab5b93abe6d41dea7acd385135e0184__table_jrx_z2g_wl" class="table" frame="border" border="1" rules="all"><caption><span class="tablecap">Table 2: Error Codes</span></caption>
<colgroup><col width="20%"/><col width="20%"/><col width="20%"/><col width="20%"/><col width="20%"/></colgroup>

						
						
						
						
						
						<thead class="thead" align="left">
							<tr class="row">
								<th class="entry" valign="top" width="20%" id="d12340371e409">Error Cause</th>

								<th class="entry" valign="top" width="20%" id="d12340371e412">HTTP Status Code</th>

								<th class="entry" valign="top" width="20%" id="d12340371e415">Content Type</th>

								<th class="entry" valign="top" width="20%" id="d12340371e418">error.code</th>

								<th class="entry" valign="top" width="20%" id="d12340371e421">error.message</th>

							</tr>

						</thead>

						<tbody class="tbody">
							<tr class="row">
								<td class="entry" valign="top" width="20%" headers="d12340371e409 ">Feedback quota exceeded</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e412 ">403</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e415 ">application/json</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e418 ">30</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e421 ">quota exceeded</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="20%" headers="d12340371e409 ">Invalid request. All parameter values are valid, but the
									combination of them is not. <div class="p">Examples:<ul class="ul" id="loioeab5b93abe6d41dea7acd385135e0184__ul_zry_ffg_wl">
											<li class="li">the request does not contain neither text, neither
												rating</li>

											<li class="li">a parameter is missing </li>

										</ul>
</div>
</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e412 ">400</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e415 ">application/json</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e418 ">40</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e421 "><var class="keyword varname">&lt;error description&gt;</var></td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="20%" headers="d12340371e409 ">Invalid parameter value</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e412 ">400</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e415 ">application/json</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e418 ">41</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e421 ">invalid value for parameter
									<var class="keyword varname">&lt;param_name&gt;</var></td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="20%" headers="d12340371e409 ">Invalid JSON or empty body</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e412 ">400</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e415 ">application/json</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e418 ">42</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e421 "><var class="keyword varname">&lt;error description&gt;</var></td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="20%" headers="d12340371e409 ">Incorrect service URL</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e412 ">404</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e415 ">-</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e418 ">-</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e421 ">-</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="20%" headers="d12340371e409 ">Incorrect or misisng Content-Type header</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e412 ">415</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e415 ">-</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e418 ">-</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e421 ">-</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="20%" headers="d12340371e409 ">Incorrect HTTP method - for example, calling the <span class="ph pname">Feedback Service</span> with method
									GET</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e412 ">405</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e415 ">-</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e418 ">-</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e421 ">-</td>

							</tr>

							<tr class="row">
								<td class="entry" valign="top" width="20%" headers="d12340371e409 "><span class="ph pname">Feedback Service</span> error</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e412 ">500</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e415 ">-</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e418 ">-</td>

								<td class="entry" valign="top" width="20%" headers="d12340371e421 ">-</td>

							</tr>

						</tbody>

					</table>
</div>

			</div>

		</div></div>

		<div class="example"><h2 class="exampletitle">Example</h2>
			<div class="p">A sample request to the <span class="ph pname">Feedback Service</span> may look like this:<ul class="ul" id="loioeab5b93abe6d41dea7acd385135e0184__ul_cbx_bry_1m">
					<li class="li">URL:
						<samp class="ph codeph">https://feedback-&lt;account_name&gt;.hanatrial.ondemand.com/api/v2/apps/&lt;application_id&gt;/posts</samp></li>

					<li class="li">HTTP method: <span class="ph uicontrol">POST</span></li>

					<li class="li">Content-Type: <span class="ph uicontrol">application/json</span></li>

					<li class="li">Request body:<div class="p">
							<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint lang-json">{
  "texts":{
    "t1": "Very helpful",
    "t2": "Well done",
    "t3": "Not usable at all",
    "t4": "I don't like it",
    "t5": "OK"
  },

  "ratings":{
    "r1": {"value":5},
    "r2": {"value":2},
    "r3": {"value":5},
    "r4": {"value":3},
    "r5": {"value":1}
  },

  "context":{
    "page": "/b2b/orders",
    "view": "payment",
    "lang": "en",
    "attr1": "1.3.15",
    "attr4": "mobile"
  }
}
</pre></div>

						</div>
</li>

				</ul>
</div>

		</div>

	</div>

	<div class="related-links"> 
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="67a37dcbef0e461b8e8b2b23cc279c2c.html" title="This tutorial guides you how to use the SAP Cloud Platform Feedback Service directly via a web browser.">Consuming the Feedback Service Via a Browser</a></div>
<div><a class="link" href="ff42b24846f9454e88f70d695bc25c8b.html" title="This tutorial guides you how to use the SAP Cloud Platform Feedback Service from the Java code in a simple Java EE Web application.">Consuming the Feedback Service Via Web Application Backend</a></div>
<div><a class="link" href="479a6e3db07948558c0319d17749ade1.html">Feedback Service Administration</a></div>
</div>
</div>
</div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html">Important Disclaimers and Legal Information</a>
</div>

</body>
</html>