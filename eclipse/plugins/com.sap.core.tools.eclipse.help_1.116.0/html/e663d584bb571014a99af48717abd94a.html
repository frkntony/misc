<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="abstract" content="When working with a resource-local entity manager, the transaction boundaries need to be set manually in your application code using the EntityTransaction API. You can obtain the entity transaction attached to the entity manager by calling EntityManager.getTransaction()."/>
<meta name="description" content="When working with a resource-local entity manager, the transaction boundaries need to be set manually in your application code using the EntityTransaction API. You can obtain the entity transaction attached to the entity manager by calling EntityManager.getTransaction()."/>

<link rel="stylesheet" type="text/css" href="../css/documentation.css"/>
<title>Entity Transaction API</title>
<!--[if lte IE 7]><style>
      .codeblock{
          overflow:visible;
      }</style><![endif]-->
</head>
<body class="" id="loioe663d584bb571014a99af48717abd94a">
<div id="wrapper"><div id="container">
<h1 class="title topictitle1">Entity Transaction API</h1>

	<div class="body conbody"><p class="shortdesc">When working with a resource-local entity manager, the transaction boundaries need to
		be set manually in your application code using the EntityTransaction API. You can obtain the
		entity transaction attached to the entity manager by calling
			<span class="keyword apiname">EntityManager.getTransaction()</span>. </p>
<p class="p">To create and update data in the database, you require an active transaction. The
			EntityTransaction API provides the <span class="keyword apiname">begin()</span> method for starting a
			transaction, and the <span class="keyword apiname">commit()</span> and <span class="keyword apiname">rollback()</span>
			methods for ending a transaction. When a commit is executed, all changes are
			synchronized with the database. </p>
<div class="example"><h2 class="exampletitle">Example</h2> 
		<p class="p">The tutorial code (<cite class="cite">Adding Application-Managed Persistence with JPA (Java Web SDK)</cite>)
				shows how to create and persist an entity: </p>
 
		<div class="div_pre_codeblock"><pre class="pre codeblock prettyprint">
Person person = new Person("&lt;name&gt;");
em.getTransaction().begin();
em.persist(person); 
em.getTransaction().commit(); 
em.close();
</pre></div>
 
		<p class="p">The <span class="keyword apiname">EntityManager.persist()</span> method makes an entity persistent by associating
				it with an entity manager. It is inserted into the database when the
					<span class="keyword apiname">commit()</span> method is called. The <span class="keyword apiname">persist()</span>
				method can only be called on new entities. </p>
 
	 </div>
</div>

	<div class="related-links"> 
<div class="relinfo"><div class="relinfotitle ">Related Information</div>
<div><a class="link" href="e4aeacd2bb5710148ee99255136d96a5.html" title="This step-by-step tutorial shows how you can use JPA to apply application-managed persistence in a simple Java EE web application that manages a list of persons.">Adding Application-Managed Persistence with JPA (Java Web SDK)</a></div>
</div>
</div></div></div><div class="footer" id="custom-footer">
	<div id="custom-footerSpacer"><hr width="350px" align="left"/></div>
	<a class="copyright" href="copyright.html">Copyright</a><span class="separator"> | </span><a class="disclaimer" href="disclaimer.html">Important Disclaimers and Legal Information</a>
</div>

</body>
</html>